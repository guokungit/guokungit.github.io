---
title: vscode的调试
date: 2025-10-23 19:36:18
tags: 工程化
categories: 调试
---
在 VS Code 中调试时需要 `launch.json`，核心原因是**它为调试器提供了“如何启动/连接程序”的关键配置信息**。VS Code 作为一个通用编辑器，支持多种编程语言和项目类型（如前端、后端、脚本等），而不同场景的调试方式差异很大，`launch.json` 正是用来统一描述这些差异的配置文件。


### 具体来说，`launch.json` 的作用包括：

1. **告诉调试器“调试什么”**  
   比如：
   - 调试前端项目时，需要指定浏览器类型（Chrome/Edge）和本地服务地址（`http://localhost:3000`）；
   - 调试 Python 脚本时，需要指定要运行的文件路径（`${file}` 表示当前打开的文件）；
   - 调试 Node.js 服务时，需要指定入口文件（如 `app.js`）。

2. **定义“如何启动程序”**  
   调试有两种模式：
   - `launch` 模式：让调试器主动启动程序（如启动浏览器打开指定 URL，或直接运行脚本）；
   - `attach` 模式：让调试器连接到已运行的程序（如调试正在运行的 Node 服务或浏览器标签页）。  
   这些模式的参数（如端口、路径映射）都需要在 `launch.json` 中配置。

3. **配置调试细节**  
   例如：
   - 传递命令行参数（`args` 字段）；
   - 指定工作目录（`cwd` 字段）；
   - 启用 Source Map 映射（解决压缩/转译代码的断点问题）；
   - 配置环境变量（`env` 字段）。

4. **支持多场景调试**  
   一个项目可能需要多种调试方式（如“调试当前文件”“调试生产环境”），`launch.json` 可以定义多个配置（`configurations` 数组），在调试面板中切换选择。


### 举个例子：前端项目的 `launch.json`
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "调试本地前端",  // 配置名称（显示在调试面板）
      "type": "chrome",        // 调试器类型（Chrome浏览器）
      "request": "launch",     // 启动模式
      "url": "http://localhost:5500",  // 本地服务地址
      "webRoot": "${workspaceFolder}"  // 源码根目录（用于映射断点）
    }
  ]
}
```
如果没有这个配置，VS Code 无法知道你要调试的是 Chrome 浏览器中的前端页面，还是 Node.js 脚本，自然无法正确启动调试流程。


### 总结
`launch.json` 是 VS Code 调试功能的“说明书”，它将不同语言、不同场景的调试规则标准化，让用户可以通过配置而非代码修改来控制调试行为。对于简单项目，VS Code 会自动生成基础配置；对于复杂项目（如远程调试、多环境调试），则需要手动调整配置以适配需求。